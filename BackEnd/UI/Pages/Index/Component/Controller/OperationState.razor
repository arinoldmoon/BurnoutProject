@inherits OperationStateComponent

<RadzenCard>
    <div class="row">
        <div class="col-md-12">
            <RadzenLabel Text=@($"Program : {SelectedPattern.PatternName}")></RadzenLabel>     
        </div>
    </div>
    @* <div class="row">
        <div class="col-md-12">
            <RadzenLabel Text=@($"Step : {Status.CurrentStep} / {Status.TotalStep}")></RadzenLabel>
        </div>
    </div> *@
     <div class="row" style="margin-top: 15px;">
        <div class="col-md-12">
            <RadzenTabs>
                <Tabs>
                        <RadzenTabsItem Text="Step">
                            <RadzenDataGrid @ref="OvenStepGrid" AllowFiltering="false"  AllowPaging="false" AllowSorting="false" Data="@(SelectedPattern.PatternItems)" TItem="PatternItem" Style="max-height:140px; font-size:small;">                                 
                                <Columns>
                                    <RadzenDataGridColumn TItem="PatternItem" Property="Step" Title="Step No" TextAlign="TextAlign.Center" />
                                    <RadzenDataGridColumn TItem="PatternItem" Property="Temp" Title="Temp" TextAlign="TextAlign.Center" />
                                    <RadzenDataGridColumn TItem="PatternItem" Title="Duration" TextAlign="TextAlign.Center">
                                        <Template Context="data">
                                            @TimeSpan.FromMinutes(data.StepDuration).ToString(@"hh\:mm") Hrs.
                                        </Template>
                                    </RadzenDataGridColumn>
                                </Columns>
                            </RadzenDataGrid>                         
                        </RadzenTabsItem>
                        <RadzenTabsItem Text="Other"></RadzenTabsItem>
                    </Tabs>
            </RadzenTabs>
            </div>
        </div>  
        @if(!Globals.GlobalMonitor.Status.Operation)
        {
             <div class="row" style="margin-top:15px;">
                <div class="col-md-12">
                    <RadzenButton ButtonStyle="ButtonStyle.Warning" Text="Edit" Style="width:100%;" Click="@(args => EditProgramClick(args))"></RadzenButton>
                </div>
            </div>
        }     
</RadzenCard>
<RadzenCard style="margin-top: 15px;">
    @if (Globals.GlobalMonitor.Status.Operation)
    {
        <div class="row">
            <div class="col">
                <RadzenButton ButtonStyle="ButtonStyle.Danger" Text="Stop Operation" Style="width:100%;" Click="@(args => StopOperation(args))"></RadzenButton>
            </div>
        </div>
    }
    else
    {
        <div class="row">
            <div class="col">
                <RadzenButton Click="@(args => StartOperation(args))" Text="Start Operation"  Style="width:235px;" ButtonStyle="ButtonStyle.Success">                                  
                </RadzenButton>
                <RadzenButton Click="@(args => CancelProgram(args))" Icon="close" ButtonStyle="ButtonStyle.Danger">                 
                </RadzenButton>                
            </div>
        </div>        
    }
</RadzenCard>


